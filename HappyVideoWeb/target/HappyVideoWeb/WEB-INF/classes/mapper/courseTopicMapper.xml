<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<!-- course_topic -->
<mapper namespace="com.happy.video.dao.CourseTopicDao">
    <!-- This code was generated by TableGo tools, mark 1 begin. -->
    <!-- 字段映射 -->
    <resultMap id="courseTopicMap" type="CourseTopic">
        <id column="id" property="id" jdbcType="INTEGER" />
        <result column="topic_name" property="topicName" jdbcType="VARCHAR" />
        <result column="views" property="views" jdbcType="INTEGER" />
        <result column="vip_flag" property="vipFlag" jdbcType="VARCHAR" />
        <result column="course_type_id" property="courseTypeId" jdbcType="INTEGER" />
        <result column="topic_intro" property="topicIntro" jdbcType="VARCHAR" />
        <result column="img_url" property="imgUrl" jdbcType="VARCHAR" />
        <result column="flag" property="flag" jdbcType="VARCHAR" />
        <result column="ppt_url" property="pptUrl" jdbcType="VARCHAR" />
        <result column="create_time" property="createTime" jdbcType="TIMESTAMP" />
    </resultMap>
    <!-- This code was generated by TableGo tools, mark 1 end. -->
    
    <!-- This code was generated by TableGo tools, mark 2 begin. -->
    <!-- 表查询字段 -->
    <sql id="allColumns">
        ct.id, ct.topic_name, ct.views, ct.vip_flag, ct.course_type_id, ct.topic_intro, ct.flag, ct.ppt_url, ct.img_url ,
        ct.create_time
    </sql>
    <!-- This code was generated by TableGo tools, mark 2 end. -->
    
    <!-- 查询所有数据 -->
    <select id="findCourseTopicAll" resultMap="courseTopicMap">
        SELECT
        <include refid="allColumns" />
        FROM course_topic ct
    </select>
    
    <!-- 根据条件参数查询数据列表 -->
    <select id="findCourseTopicByCondition" resultMap="courseTopicMap" parameterType="map">
        SELECT
        <include refid="allColumns" />
        FROM course_topic ct WHERE 1 = 1
        <if test="topicName != null and topicName != ''">
            AND ct.topic_name LIKE CONCAT('%', #{topicName}, '%')
        </if>
        <if test="views != null">
            AND ct.views = #{views}
        </if>
        <if test="vipFlag != null">
            AND ct.vip_flag = #{vipFlag}
        </if>
        <if test="courseTypeId != null">
            AND ct.course_type_id = #{courseTypeId}
        </if>
        <if test="topicIntro != null and topicIntro != ''">
            AND ct.topic_intro LIKE CONCAT('%', #{topicIntro}, '%')
        </if>
        <if test="flag != null">
            AND ct.flag = #{flag}
        </if>
        <if test="pptUrl != null and pptUrl != ''">
            AND ct.ppt_url LIKE CONCAT('%', #{pptUrl}, '%')
        </if>
        <if test="createTime != null">
            AND ct.create_time = #{createTime}
        </if>
    </select>
    
    <!-- 根据主键查询数据 -->
    <select id="findCourseTopicByIds" resultMap="courseTopicMap" parameterType="list">
        SELECT
        <include refid="allColumns" />
        FROM course_topic ct WHERE ct.id IN
        <foreach collection="list" index="index" item="id" open="(" separator="," close=")">
            #{id}
        </foreach>
    </select>
    
    <!-- 插入数据 -->
    <insert id="insertCourseTopic" parameterType="map">
        INSERT INTO course_topic (
            id, topic_name, views, vip_flag, course_type_id, topic_intro, flag, ppt_url, img_url ,
            create_time
        ) VALUES (
            #{id},
            #{topicName},
            #{views},
            #{vipFlag},
            #{courseTypeId},
            #{topicIntro},
            #{flag},
            #{pptUrl},
            #{imgUrl},
            #{createTime}
        )
    </insert>
    
    <!-- 批量插入数据 -->
    <insert id="insertCourseTopics" parameterType="courseTopic">
        INSERT INTO course_topic (
            id, topic_name, views, vip_flag, course_type_id, topic_intro, flag, ppt_url, img_url ,
            create_time
        ) VALUES
        <foreach collection="list" index="index" item="item" separator=",">
            (
                #{item.id},
                #{item.topicName},
                #{item.views},
                #{item.vipFlag},
                #{item.courseTypeId},
                #{item.topicIntro},
                #{item.flag},
                #{item.pptUrl},
                #{item.imgUrl},
                #{item.createTime}
            )
        </foreach>
    </insert>
    
    <!-- 修改数据 -->
    <update id="updateCourseTopic" parameterType="map">
        UPDATE course_topic
        <set>
            <if test="topicName != null">
                topic_name = #{topicName},
            </if>
            <if test="views != null">
                views = #{views},
            </if>
            <if test="vipFlag != null">
                vip_flag = #{vipFlag},
            </if>
            <if test="courseTypeId != null">
                course_type_id = #{courseTypeId},
            </if>
            <if test="topicIntro != null">
                topic_intro = #{topicIntro},
            </if>
            <if test="flag != null">
                flag = #{flag},
            </if>
            <if test="pptUrl != null">
                ppt_url = #{pptUrl},
            </if>
            <if test="createTime != null">
                create_time = #{createTime}
            </if>
        </set>
        WHERE id = #{id}
    </update>
    
    <!-- 批量修改数据 -->
    <update id="updateCourseTopics" parameterType="list">
        <foreach collection="list" index="index" item="item" separator=";">
            UPDATE course_topic
            <set>
                <if test="item.topicName != null">
                    topic_name = #{item.topicName},
                </if>
                <if test="item.views != null">
                    views = #{item.views},
                </if>
                <if test="item.vipFlag != null">
                    vip_flag = #{item.vipFlag},
                </if>
                <if test="item.courseTypeId != null">
                    course_type_id = #{item.courseTypeId},
                </if>
                <if test="item.topicIntro != null">
                    topic_intro = #{item.topicIntro},
                </if>
                <if test="item.flag != null">
                    flag = #{item.flag},
                </if>
                <if test="item.pptUrl != null">
                    ppt_url = #{item.pptUrl},
                </if>
                <if test="item.createTime != null">
                    create_time = #{item.createTime}
                </if>
            </set>
            WHERE id = #{item.id}
        </foreach>
    </update>
    
    <!-- 根据主键删除数据 -->
    <delete id="deleteCourseTopicById" parameterType="int">
        DELETE FROM course_topic WHERE id = #{id}
    </delete>
    
    <!-- 根据主键批量删除数据 -->
    <delete id="deleteCourseTopicByIds" parameterType="list">
        DELETE FROM course_topic WHERE id IN
        <foreach collection="list" index="index" item="id" open="(" separator="," close=")">
            #{id}
        </foreach>
    </delete>
</mapper>